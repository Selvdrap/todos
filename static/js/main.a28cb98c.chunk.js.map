{"version":3,"sources":["reducers/todosReducer.js","reducers/index.js","actions/types.js","reducers/filterReducer.js","reducers/toggleAllReducer.js","store.js","localStorage.js","throttle.js","components/Header.js","actions/index.js","components/TodoInput.js","components/OutsideClick.js","components/TodoItem.js","components/Footer.js","components/TodoList.js","components/Info.js","components/App.js","index.js"],"names":["combineReducers","todos","state","action","type","payload","id","toggledTodo","Object","assign","completed","toggledTodos","JSON","parse","stringify","keys","forEach","newState","uncompleted","filter","toggleAll","persistedState","serializedState","localStorage","getItem","err","console","error","loadState","store","createStore","reducers","applyMiddleware","thunk","subscribe","func","wait","options","context","args","result","timeout","previous","later","leading","Date","now","apply","remaining","this","arguments","clearTimeout","trailing","setTimeout","throttle","setItem","saveState","getState","Header","text","className","toggleAllTodos","value","deleteTodo","connect","addTodo","todo","props","useState","setValue","onToggleClick","style","position","length","toggled","onClick","renderToggleAllButton","onChange","e","target","onKeyDown","key","lastTodo","slice","description","placeholder","wrapperRef","useRef","ref","handleClickOutside","current","contains","useEffect","document","addEventListener","removeEventListener","useOutsideClick","children","toggleTodo","dispatch","a","allToggled","every","editTodo","newTodo","inEdit","setInEdit","todoValue","setTodoValue","handleEsc","keyCode","window","completedClass","editClass","checked","onInputChange","onSubmit","preventDefault","OutsideClick","Fragment","onDoubleClick","filters","SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED","values","currentFilter","filterTodos","clearCompleted","itemsStr","map","filterKey","getVisibleTodos","todosArr","Info","href","App","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.a28cb98c.chunk.js","sourcesContent":["import {\n  ADD_TODO,\n  TOGGLE_TODO,\n  TOGGLE_ALL_TODOS,\n  EDIT_TODO,\n  DELETE_TODO,\n  CLEAR_COMPLETED\n} from \"../actions/types\";\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ADD_TODO:\n    case EDIT_TODO:\n      return { ...state, [action.payload.id]: action.payload };\n    case TOGGLE_TODO:\n      const toggledTodo = Object.assign({}, state[action.payload]);\n      toggledTodo.completed = !toggledTodo.completed;\n      return { ...state, [action.payload]: toggledTodo };\n    case TOGGLE_ALL_TODOS:\n      const toggledTodos = JSON.parse(JSON.stringify(state));\n      Object.keys(toggledTodos).forEach(\n        id => (toggledTodos[id].completed = action.payload)\n      );\n      return toggledTodos;\n    case DELETE_TODO:\n      const newState = Object.assign({}, state);\n      delete newState[action.payload];\n      return newState;\n    case CLEAR_COMPLETED:\n      const uncompleted = JSON.parse(JSON.stringify(state));\n      Object.keys(uncompleted).forEach(id => {\n        if (uncompleted[id].completed) delete uncompleted[id];\n      });\n      return uncompleted;\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport todosReducer from \"./todosReducer\";\nimport filterReducer from \"./filterReducer\";\nimport toggleAllReducer from \"./toggleAllReducer\";\n\nexport default combineReducers({\n  todos: todosReducer,\n  filter: filterReducer,\n  toggleAll: toggleAllReducer\n});\n","export const ADD_TODO = \"ADD_TODO\";\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\nexport const TOGGLE_ALL_TODOS = \"TOGGLE_ALL_TODOS\";\nexport const EDIT_TODO = \"EDIT_TODO\";\nexport const DELETE_TODO = \"DELETE_TODO\";\nexport const CLEAR_COMPLETED = \"CLEAR_COMPLETED\";\nexport const FILTER_TODOS = \"FILTER_TODOS\";\n","import { FILTER_TODOS } from \"../actions/types\";\n\nexport default (state = \"SHOW_ALL\", action) => {\n  switch (action.type) {\n    case FILTER_TODOS:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import { ADD_TODO, TOGGLE_TODO, TOGGLE_ALL_TODOS } from \"../actions/types\";\n\nexport default (state = false, action) => {\n  switch (action.type) {\n    case ADD_TODO:\n    case TOGGLE_TODO:\n      return false;\n    case TOGGLE_ALL_TODOS:\n      return !state;\n    default:\n      return state;\n  }\n};\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport throttle from \"./throttle\";\nimport reducers from \"./reducers\";\nimport { loadState, saveState } from \"./localStorage\";\n\nconst persistedState = loadState();\nconst store = createStore(reducers, persistedState, applyMiddleware(thunk));\nstore.subscribe(\n  throttle(() => {\n    saveState({\n      todos: store.getState().todos\n    });\n  })\n);\n\nexport default store;\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    if (serializedState === null) return undefined;\n    return JSON.parse(serializedState);\n  } catch (err) {\n    console.error(err);\n    return undefined;\n  }\n};\n\nexport const saveState = state => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"state\", serializedState);\n  } catch(err) {\n    console.error(err);\n  }\n};\n","export default (func, wait, options) => {\n  let context, args, result;\n  let timeout = null;\n  let previous = 0;\n  if (!options) options = {};\n  const later = function() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n  return function() {\n    const now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    const remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n};\n","import React from \"react\";\n\nconst Header = ({ text }) => {\n  return <h1 className=\"todos-header\">{text}</h1>;\n};\n\nexport default Header;\n","import {\n  ADD_TODO,\n  TOGGLE_TODO,\n  TOGGLE_ALL_TODOS,\n  EDIT_TODO,\n  DELETE_TODO,\n  CLEAR_COMPLETED,\n  FILTER_TODOS\n} from \"./types\";\n\nexport const addTodo = todo => {\n  return {\n    type: ADD_TODO,\n    payload: todo\n  };\n};\n\nexport const toggleTodo = id => async (dispatch, getState) => {\n  await dispatch({ type: TOGGLE_TODO, payload: id });\n\n  const { todos } = getState();\n  const keys = Object.keys(todos);\n  const allToggled = keys.length\n    ? keys.every(todo => todos[todo].completed)\n    : false;\n  if (allToggled) dispatch(toggleAllTodos(allToggled));\n};\n\nexport const toggleAllTodos = value => {\n  return {\n    type: TOGGLE_ALL_TODOS,\n    payload: value\n  };\n};\n\nexport const editTodo = (id, description) => async (dispatch, getState) => {\n  if (!description.length) {\n    dispatch(deleteTodo(id));\n  } else {\n    const { todos } = getState();\n    const newTodo = todos[id];\n    newTodo.description = description;\n    dispatch({ type: EDIT_TODO, payload: newTodo });\n  }\n};\n\nexport const deleteTodo = id => {\n  return {\n    type: DELETE_TODO,\n    payload: id\n  };\n};\n\nexport const clearCompleted = () => {\n  return { type: CLEAR_COMPLETED };\n};\n\nexport const filterTodos = filter => {\n  return {\n    type: FILTER_TODOS,\n    payload: filter\n  };\n};\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { addTodo, toggleAllTodos } from \"../actions\";\n\nconst TodoInput = props => {\n  const { todos, toggleAll, addTodo, toggleAllTodos } = props;\n  const [value, setValue] = useState(\"\");\n\n  const onInputChange = e => {\n    setValue(e.target.value);\n  };\n\n  const onInputSubmit = e => {\n    if (e.key !== \"Enter\" || !value.length) return;\n\n    const lastTodo = todos[Object.keys(todos).slice(-1)];\n    const id = lastTodo ? lastTodo.id + 1 : 1;\n    addTodo({ id, description: value, completed: false });\n    setValue(\"\");\n  };\n\n  const onToggleClick = () => {\n    toggleAllTodos(!toggleAll);\n  };\n\n  const renderToggleAllButton = () => {\n    if (!Object.keys(todos).length) return null;\n\n    const toggled = toggleAll ? \"todos-toggle-all--checked\" : \"\";\n    return (\n      <button onClick={onToggleClick} className={`todos-toggle-all ${toggled}`}>\n        ❯\n      </button>\n    );\n  };\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      {renderToggleAllButton()}\n      <input\n        type=\"text\"\n        value={value}\n        onChange={onInputChange}\n        onKeyDown={onInputSubmit}\n        className=\"todos-input\"\n        placeholder=\"What needs to be done?\"\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    todos: state.todos,\n    toggleAll: state.toggleAll\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { addTodo, toggleAllTodos }\n)(TodoInput);\n","import React, { useEffect, useRef } from \"react\";\n\nconst useOutsideClick = (func, ref) => {\n  function handleClickOutside(e) {\n    if (ref.current && !ref.current.contains(e.target)) {\n      func();\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  });\n};\n\nexport default props => {\n  const wrapperRef = useRef(null);\n  useOutsideClick(props.func, wrapperRef);\n\n  return <div ref={wrapperRef}>{props.children}</div>;\n};\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleTodo, editTodo, deleteTodo } from \"../actions\";\nimport OutsideClick from \"./OutsideClick\";\n\nconst TodoItem = props => {\n  const { todo, toggleTodo, editTodo, deleteTodo } = props;\n  const [inEdit, setInEdit] = useState(false);\n  const [todoValue, setTodoValue] = useState(todo.description);\n\n  useEffect(() => {\n    const handleEsc = e => {\n      if (e.keyCode === 27) {\n        setTodoValue(todo.description);\n        setInEdit(false);\n      }\n    };\n    window.addEventListener(\"keydown\", handleEsc);\n\n    return () => window.removeEventListener(\"keydown\", handleEsc);\n  }, [todo.description]);\n\n  const completedClass = todo.completed\n    ? \"todos-list-item__description--completed\"\n    : \"\";\n  const editClass = inEdit ? \"todos-list-item__description--editing\" : \"\";\n  const checked = todo.completed ? \"checked\" : \"\";\n\n  const onInputChange = e => {\n    setTodoValue(e.target.value);\n  };\n\n  const onSubmit = async e => {\n    if (e) e.preventDefault();\n    await editTodo(todo.id, todoValue);\n    setInEdit(false);\n  };\n\n  const renderItem = () => {\n    return inEdit ? (\n      <OutsideClick func={() => onSubmit()}>\n        <form onSubmit={onSubmit}>\n          <label\n            className={`todos-list-item__description ${completedClass} ${editClass}`}\n          >\n            {todo.description}\n            <input\n              type=\"text\"\n              onChange={onInputChange}\n              value={todoValue}\n              className=\"todos-list-item__edit\"\n            />\n          </label>\n        </form>\n      </OutsideClick>\n    ) : (\n      <React.Fragment>\n        <input\n          onChange={() => toggleTodo(todo.id)}\n          type=\"checkbox\"\n          checked={checked}\n          className=\"todos-list-item__toggle\"\n        />\n        <label\n          onDoubleClick={() => setInEdit(true)}\n          className={`todos-list-item__description ${completedClass}`}\n        >\n          {todo.description}\n        </label>\n        <button\n          className=\"todos-list-item__delete\"\n          onClick={() => deleteTodo(todo.id)}\n        />\n      </React.Fragment>\n    );\n  };\n\n  return <li className=\"todos-list-item\">{renderItem()}</li>;\n};\n\nexport default connect(\n  null,\n  { toggleTodo, editTodo, deleteTodo }\n)(TodoItem);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { filterTodos, clearCompleted } from \"../actions\";\n\nconst filters = {\n  SHOW_ALL: {\n    text: \"All\"\n  },\n  SHOW_ACTIVE: {\n    text: \"Active\"\n  },\n  SHOW_COMPLETED: {\n    text: \"Completed\"\n  }\n};\n\nconst Footer = props => {\n  const { todos, clearCompleted, filterTodos, currentFilter } = props;\n  if (!todos || !todos.length) return null;\n\n  const uncompleted = todos.filter(todo => !todo.completed);\n  const itemsStr =\n    uncompleted.length > 1 || !uncompleted.length ? \"items\" : \"item\";\n\n  const renderClearButton = () => {\n    return uncompleted.length !== todos.length ? (\n      <button onClick={() => clearCompleted()} className=\"todos-footer-clear\">\n        Clear completed\n      </button>\n    ) : null;\n  };\n\n  return (\n    <footer className=\"todos-footer\">\n      <span className=\"todos-footer-count\">\n        {uncompleted.length} {itemsStr} left\n      </span>\n      <ul className=\"todos-footer-filters\">\n        {Object.keys(filters).map(filterKey => (\n          <li key={`filter-${filterKey}`}>\n            <button\n              onClick={() => filterTodos(`${filterKey}`)}\n              className={`todos-footer-button ${\n                currentFilter === filterKey ? \"selected\" : \"\"\n              }`}\n            >\n              {filters[filterKey].text}\n            </button>\n          </li>\n        ))}\n      </ul>\n      {renderClearButton()}\n    </footer>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    todos: Object.values(state.todos),\n    currentFilter: state.filter\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { filterTodos, clearCompleted }\n)(Footer);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport TodoItem from \"./TodoItem\";\nimport Footer from \"./Footer\";\n\nconst TodoList = ({ todos }) => {\n  return (\n    <div className=\"todos-list__container\">\n      <ul className=\"todos-list\">\n        {todos.map(todo => (\n          <TodoItem todo={todo} key={todo.id} />\n        ))}\n      </ul>\n      <Footer />\n    </div>\n  );\n};\n\nconst getVisibleTodos = (todos, filter) => {\n  const todosArr = Object.values(todos);\n  switch (filter) {\n    case \"SHOW_ALL\":\n      return todosArr;\n    case \"SHOW_COMPLETED\":\n      return todosArr.filter(todo => todo.completed === true);\n    case \"SHOW_ACTIVE\":\n      return todosArr.filter(todo => todo.completed === false);\n    default:\n      return todosArr;\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    todos: getVisibleTodos(state.todos, state.filter)\n  };\n};\n\nexport default connect(mapStateToProps)(TodoList);\n","import React from \"react\";\n\nconst Info = () => {\n  return (\n    <footer className=\"info\">\n      <p>Double-click to edit a todo</p>\n      <p>\n        Manually recreated from&nbsp;\n        <a href=\"http://todomvc.com/examples/react/\">TodoMVC</a>\n      </p>\n    </footer>\n  );\n};\n\nexport default Info;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport TodoInput from \"./TodoInput\";\nimport TodoList from \"./TodoList\";\nimport Info from \"./Info\"\nimport \"./todos.css\";\n\nconst App = () => {\n  return (\n    <div className=\"todos\">\n      <Header text=\"todos\" />\n      <div className=\"todos-wrapper\">\n        <TodoInput />\n        <TodoList />\n      </div>\n      <Info />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}