(window.webpackJsonptodos=window.webpackJsonptodos||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(8),c=n.n(a),l=n(1),i=n(4),u=n(15),s=n(9);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=Object(i.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":case"EDIT_TODO":return f({},e,Object(s.a)({},t.payload.id,t.payload));case"TOGGLE_TODO":var n=Object.assign({},e[t.payload]);return n.completed=!n.completed,f({},e,Object(s.a)({},t.payload,n));case"TOGGLE_ALL_TODOS":var r=JSON.parse(JSON.stringify(e));return Object.keys(r).forEach((function(e){return r[e].completed=t.payload})),r;case"DELETE_TODO":var o=Object.assign({},e);return delete o[t.payload],o;case"CLEAR_COMPLETED":var a=JSON.parse(JSON.stringify(e));return Object.keys(a).forEach((function(e){a[e].completed&&delete a[e]})),a;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHOW_ALL",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_TODOS":return t.payload;default:return e}},toggleAll:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":case"TOGGLE_TODO":return!1;case"TOGGLE_ALL_TODOS":return!e;default:return e}}}),m=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.error(t)}}(),O=Object(i.d)(p,m,Object(i.a)(u.a));O.subscribe(function(e,t,n){var r,o,a,c=null,l=0;n||(n={});var i=function(){l=!1===n.leading?0:Date.now(),c=null,a=e.apply(r,o),c||(r=o=null)};return function(){var u=Date.now();l||!1!==n.leading||(l=u);var s=t-(u-l);return r=this,o=arguments,s<=0||s>t?(c&&(clearTimeout(c),c=null),l=u,a=e.apply(r,o),c||(r=o=null)):c||!1===n.trailing||(c=setTimeout(i,s)),a}}((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.error(n)}}({todos:O.getState().todos})})));var E=O,v=function(e){var t=e.text;return o.a.createElement("h1",{className:"todos-header"},t)},g=n(7),b=n(3),y=n.n(b),h=n(6),T=function(e){return{type:"TOGGLE_ALL_TODOS",payload:e}},_=function(e){return{type:"DELETE_TODO",payload:e}},j=Object(l.b)((function(e){return{todos:e.todos,toggleAll:e.toggleAll}}),{addTodo:function(e){return{type:"ADD_TODO",payload:e}},toggleAllTodos:T})((function(e){var t=e.todos,n=e.toggleAll,a=e.addTodo,c=e.toggleAllTodos,l=Object(r.useState)(""),i=Object(g.a)(l,2),u=i[0],s=i[1],d=function(){c(!n)};return o.a.createElement("div",{style:{position:"relative"}},function(){if(!Object.keys(t).length)return null;var e=n?"todos-toggle-all--checked":"";return o.a.createElement("button",{onClick:d,className:"todos-toggle-all ".concat(e)},"\u276f")}(),o.a.createElement("input",{type:"text",value:u,onChange:function(e){s(e.target.value)},onKeyDown:function(e){if("Enter"===e.key&&u.length){var n=t[Object.keys(t).slice(-1)],r=n?n.id+1:1;a({id:r,description:u,completed:!1}),s("")}},className:"todos-input",placeholder:"What needs to be done?"}))})),D=function(e){var t=Object(r.useRef)(null);return function(e,t){function n(n){t.current&&!t.current.contains(n.target)&&e()}Object(r.useEffect)((function(){return document.addEventListener("mousedown",n),function(){return document.removeEventListener("mousedown",n)}}))}(e.func,t),o.a.createElement("div",{ref:t},e.children)},w=Object(l.b)(null,{toggleTodo:function(e){return function(){var t=Object(h.a)(y.a.mark((function t(n,r){var o,a,c,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:"TOGGLE_TODO",payload:e});case 2:o=r(),a=o.todos,c=Object.keys(a),(l=!!c.length&&c.every((function(e){return a[e].completed})))&&n(T(l));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},editTodo:function(e,t){return function(){var n=Object(h.a)(y.a.mark((function n(r,o){var a,c,l;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.length?(a=o(),c=a.todos,(l=c[e]).description=t,r({type:"EDIT_TODO",payload:l})):r(_(e));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},deleteTodo:_})((function(e){var t=e.todo,n=e.toggleTodo,a=e.editTodo,c=e.deleteTodo,l=Object(r.useState)(!1),i=Object(g.a)(l,2),u=i[0],s=i[1],d=Object(r.useState)(t.description),f=Object(g.a)(d,2),p=f[0],m=f[1];Object(r.useEffect)((function(){var e=function(e){27===e.keyCode&&(m(t.description),s(!1))};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t.description]);var O=t.completed?"todos-list-item__description--completed":"",E=u?"todos-list-item__description--editing":"",v=t.completed?"checked":"",b=function(e){m(e.target.value)},T=function(){var e=Object(h.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.preventDefault(),e.next=3,a(t.id,p);case 3:s(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("li",{className:"todos-list-item"},u?o.a.createElement(D,{func:function(){return T()}},o.a.createElement("form",{onSubmit:T},o.a.createElement("label",{className:"todos-list-item__description ".concat(O," ").concat(E)},t.description,o.a.createElement("input",{type:"text",onChange:b,value:p,className:"todos-list-item__edit"})))):o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{onChange:function(){return n(t.id)},type:"checkbox",checked:v,className:"todos-list-item__toggle"}),o.a.createElement("label",{onDoubleClick:function(){return s(!0)},className:"todos-list-item__description ".concat(O)},t.description),o.a.createElement("button",{className:"todos-list-item__delete",onClick:function(){return c(t.id)}})))})),L={SHOW_ALL:{text:"All"},SHOW_ACTIVE:{text:"Active"},SHOW_COMPLETED:{text:"Completed"}},k=Object(l.b)((function(e){return{todos:Object.values(e.todos),currentFilter:e.filter}}),{filterTodos:function(e){return{type:"FILTER_TODOS",payload:e}},clearCompleted:function(){return{type:"CLEAR_COMPLETED"}}})((function(e){var t=e.todos,n=e.clearCompleted,r=e.filterTodos,a=e.currentFilter;if(!t||!t.length)return null;var c=t.filter((function(e){return!e.completed})),l=c.length>1||!c.length?"items":"item";return o.a.createElement("footer",{className:"todos-footer"},o.a.createElement("span",{className:"todos-footer-count"},c.length," ",l," left"),o.a.createElement("ul",{className:"todos-footer-filters"},Object.keys(L).map((function(e){return o.a.createElement("li",{key:"filter-".concat(e)},o.a.createElement("button",{onClick:function(){return r("".concat(e))},className:"todos-footer-button ".concat(a===e?"selected":"")},L[e].text))}))),c.length!==t.length?o.a.createElement("button",{onClick:function(){return n()},className:"todos-footer-clear"},"Clear completed"):null)})),S=function(e,t){var n=Object.values(e);switch(t){case"SHOW_ALL":return n;case"SHOW_COMPLETED":return n.filter((function(e){return!0===e.completed}));case"SHOW_ACTIVE":return n.filter((function(e){return!1===e.completed}));default:return n}},N=Object(l.b)((function(e){return{todos:S(e.todos,e.filter)}}))((function(e){var t=e.todos;return o.a.createElement("div",{className:"todos-list__container"},o.a.createElement("ul",{className:"todos-list"},t.map((function(e){return o.a.createElement(w,{todo:e,key:e.id})}))),o.a.createElement(k,null))})),C=function(){return o.a.createElement("footer",{className:"info"},o.a.createElement("p",null,"Double-click to edit a todo"),o.a.createElement("p",null,"Manually recreated from\xa0",o.a.createElement("a",{href:"http://todomvc.com/examples/react/"},"TodoMVC")))},A=(n(27),function(){return o.a.createElement("div",{className:"todos"},o.a.createElement(v,{text:"todos"}),o.a.createElement("div",{className:"todos-wrapper"},o.a.createElement(j,null),o.a.createElement(N,null)),o.a.createElement(C,null))});c.a.render(o.a.createElement(l.a,{store:E},o.a.createElement(A,null)),document.querySelector("#root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a28cb98c.chunk.js.map